<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>RanScanAI - Report Preview</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
	<link rel="stylesheet" href="viewreportdetail.css" />
	<script defer src="viewreportdetail.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header no-print">
        <div class="header-left">
            <a class="logo" href="../userdashboard_page/RSA_userdashboard.html" aria-label="Go to dashboard">
                <img src="../userdashboard_page/RSA_logo.png" alt="RanScanAI logo" class="logo-img" />
                <span class="logo-text"><span class="logo-ran">Ran</span><span class="logo-scan">Scan</span><span class="logo-ai">AI</span></span>
            </a>
            <span class="header-divider"></span>
            <span class="header-page-title">Report Preview</span>
        </div>
        <div class="header-right">
            <button class="icon-btn bell-btn" aria-label="Notifications">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
                <span class="notif-dot"></span>
            </button>
            <a class="icon-btn user-btn" href="../userprofile_page/RSA_userprofile.html" aria-label="User profile">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            </a>
        </div>
    </header>

	<main class="page-wrap">
        <!-- Top bar with back link + download -->
        <div class="page-title no-print">
            <a class="back-link" href="viewallreports.html" aria-label="Back to Report Center">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>
                <span>Back to Reports</span>
            </a>
            <h1 id="page-heading">Report Preview</h1>
            <button class="download-btn" id="download-pdf-btn" aria-label="Download PDF">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                <span>Download PDF</span>
            </button>
		</div>
        
        <!-- Printable report content -->
        <div id="report-content">
            <!-- Report Header (visible in print too) -->
            <div class="report-header-card">
                <div class="report-header-top">
                    <div class="report-brand">
                        <img src="../userdashboard_page/RSA_logo.png" alt="RanScanAI" class="report-brand-logo" />
                        <div>
                            <span class="report-brand-text"><span class="logo-ran">Ran</span><span class="logo-scan-dark">Scan</span><span class="logo-ai">AI</span></span>
                            <p class="report-brand-sub">Ransomware Detection &amp; Analysis Platform</p>
                        </div>
                    </div>
                    <div class="report-meta">
                        <span class="report-id-badge" id="report-id-badge">R10</span>
                    </div>
                </div>
                <div class="report-header-body">
                    <h2 class="report-title" id="report-title">February 2026 Detection Summary Report</h2>
                    <p class="report-subtitle" id="report-period">Reporting Period: 1 February 2026 â€“ 28 February 2026</p>
                    <p class="report-generated" id="report-generated">Generated on: 26 February 2026</p>
                </div>
            </div>

            <!-- Summary KPI Cards -->
            <div class="kpi-grid">
                <div class="kpi-card kpi-total">
                    <div class="kpi-icon">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
                    </div>
                    <div class="kpi-data">
                        <span class="kpi-value" id="kpi-total">0</span>
                        <span class="kpi-label">Total Files Scanned</span>
                    </div>
                </div>
                <div class="kpi-card kpi-benign">
                    <div class="kpi-icon">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                    </div>
                    <div class="kpi-data">
                        <span class="kpi-value" id="kpi-benign">0</span>
                        <span class="kpi-label">Benign Files</span>
                    </div>
                </div>
                <div class="kpi-card kpi-malicious">
                    <div class="kpi-icon">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
                    </div>
                    <div class="kpi-data">
                        <span class="kpi-value" id="kpi-malicious">0</span>
                        <span class="kpi-label">Malicious Files</span>
                    </div>
                </div>
                <div class="kpi-card kpi-rate">
                    <div class="kpi-icon">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                    </div>
                    <div class="kpi-data">
                        <span class="kpi-value" id="kpi-rate">0%</span>
                        <span class="kpi-label">Threat Rate</span>
                    </div>
                </div>
            </div>

            <!-- Charts Row -->
            <div class="charts-row">
                <!-- Donut Chart -->
                <div class="chart-card">
                    <h3 class="section-heading">Detection Breakdown</h3>
                    <div class="donut-container">
                        <canvas id="donut-chart" width="220" height="220"></canvas>
                        <div class="donut-legend" id="donut-legend"></div>
                    </div>
                </div>
                <!-- Bar Chart -->
                <div class="chart-card">
                    <h3 class="section-heading">Threat Classification</h3>
                    <div class="bar-chart-container" id="bar-chart"></div>
                </div>
            </div>

            <!-- Detailed Detection Table -->
            <div class="detail-card">
                <h3 class="section-heading">Detection Records</h3>
                <p class="section-desc">All files scanned during the reporting period with their classification results.</p>
                <div class="table-wrapper">
                    <table class="detail-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>File Name</th>
                                <th>Date</th>
                                <th>Classification</th>
                                <th>Confidence</th>
                                <th>Threat Type</th>
                            </tr>
                        </thead>
                        <tbody id="detail-tbody">
                            <!-- Rows injected by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Summary & Recommendations -->
            <div class="summary-card">
                <h3 class="section-heading">Summary &amp; Recommendations</h3>
                <div class="summary-grid">
                    <div class="summary-item">
                        <div class="summary-item-icon summary-icon-info">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
                        </div>
                        <div>
                            <h4>Overview</h4>
                            <p id="summary-overview">Loading...</p>
                        </div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-item-icon summary-icon-alert">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                        </div>
                        <div>
                            <h4>Threat Assessment</h4>
                            <p id="summary-threat">Loading...</p>
                        </div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-item-icon summary-icon-success">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                        </div>
                        <div>
                            <h4>Recommendation</h4>
                            <p id="summary-recommendation">Loading...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer (visible in print) -->
            <div class="report-footer">
                <p>RanScanAI &mdash; Ransomware Detection &amp; Analysis Platform</p>
                <p class="report-footer-note">This report is auto-generated. For questions, contact your system administrator.</p>
            </div>
        </div>
	</main>
</body>
</html>
